{"version":3,"sources":["redux/dialog_reducer.js","components/Navbar/Navbar.module.css","redux/user_reducer.js","API/api.js","components/Header/Header.jsx","redux/auth_reducer.js","components/Header/HeaderConteiner.jsx","components/Navbar/Navbar.jsx","components/Login/Login.jsx","redux/app_reducer.js","App.js","redux/store.js","index.js","utils/validators.js","components/common/Form/FormsControls.module.css","components/common/Form/FormsControls.jsx","loading2.svg","components/common/Preloader/Preloader.jsx","components/Header/Header.module.css","redux/profile_reducer.js"],"names":["SEND_MESSAGE","initialState","dialogData","id","name","messageData","message","sendMessageCreator","newMessageBodyField","type","dialogReducer","state","action","body","module","exports","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","setCurrentPage","setIsFetching","toggleFollowingInProgress","usersId","reqwestUsers","page","dispatch","usersAPI","getUsers","then","response","items","totalCount","count","follow","userId","setFollow","resultCode","unfollow","setUnfollow","usersReducers","map","u","followed","filter","instance","axios","withCredentials","baseURL","headers","get","data","post","delete","getProfile","console","log","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Header","props","className","Header_mod","header","src","alt","loginBlock","isAuth","onClick","to","SET_USER_DATA","setUserData","payload","getAuthUserData","authReducer","HeaderConteiner","this","React","Component","connect","auth","Navbar","Navbar_mod","nav","item","active","activeClassName","activeLink","maxLength20","maxLengthCreator","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","required","error","styles","form_summary_error","messages","length","stopSubmit","_error","formData","SET_INITIALIZED","initialized","appReducer","ProfileConteiner","lazy","DialogsContainer","UsersContainer","App","initializeApp","Suspense","fallback","Preloader","path","render","compose","withRouter","app","promise","Promise","all","reducers","combineReducers","profilePage","profileReducer","dialogPage","usersPage","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","StrictMode","document","getElementById","value","value1","FormControl","input","meta","child","hasError","touched","form_control","children","Textarea","restProps","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","posts","likeCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost"],"mappings":"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","file":"static/js/main.e2494247.chunk.js","sourcesContent":["const UPDATE_NEW_MESSAGE_BODY = \"UPDATE-NEW-MESSAGE-BODY\";\r\nconst SEND_MESSAGE = \"SEND_MESSAGE\";\r\n\r\nlet initialState = {\r\n    dialogData: [\r\n        { id: 1, name: \"Маша\" },\r\n        { id: 2, name: \"Паша\" },\r\n        { id: 3, name: \"Саша\" },\r\n        { id: 4, name: \"Таша\" },\r\n        { id: 5, name: \"Гаша\" },\r\n    ],\r\n    messageData: [\r\n        { id: 1, message: \"Привет\" },\r\n        { id: 2, message: \"Hello\" },\r\n        { id: 3, message: \"Hi\" },\r\n        { id: 4, message: \"Ky\" },\r\n        { id: 5, message: \"By\" },\r\n    ],\r\n};\r\nconst dialogReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let body = action.newMessageBodyField;\r\n            return {\r\n                ...state,\r\n                messageData: [...state.messageData, { id: 7, message: body }],\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBodyField) => ({ type: SEND_MESSAGE, newMessageBodyField });\r\nexport const updateNewMessageBodyCreator = (body) => ({\r\n    type: UPDATE_NEW_MESSAGE_BODY,\r\n    body: body,\r\n});\r\n\r\nexport default dialogReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__31L0V\",\"item\":\"Navbar_item__1CWRB\",\"activeLink\":\"Navbar_activeLink__2mEFB\"};","import { usersAPI } from \"../API/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_USERS_TOTAL_COUNT = \"SET_USERS_TOTAL_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n};\r\n\r\nconst usersReducers = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u) => {\r\n                    if (u.id === action.usersId) {\r\n                        return { ...u, followed: true };\r\n                    }\r\n                    return u;\r\n                }),\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map((u) => {\r\n                    if (u.id === action.usersId) {\r\n                        return { ...u, followed: false };\r\n                    }\r\n                    return u;\r\n                }),\r\n            };\r\n\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users,\r\n            };\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage,\r\n            };\r\n        }\r\n\r\n        case SET_USERS_TOTAL_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count,\r\n            };\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching,\r\n            };\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.usersId]\r\n                    : state.followingInProgress.filter((id) => id !== action.usersId),\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (usersId) => ({ type: FOLLOW, usersId });\r\nexport const unfollowSuccess = (usersId) => ({ type: UNFOLLOW, usersId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_USERS_TOTAL_COUNT, count: totalUsersCount });\r\nexport const setIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingInProgress = (isFetching, usersId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    usersId,\r\n});\r\n\r\nexport const reqwestUsers = (page, pageSize) => {\r\n    return (dispatch) => {\r\n        dispatch(setIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        usersAPI.getUsers(page, pageSize).then((response) => {\r\n            dispatch(setIsFetching(false));\r\n            dispatch(setUsers(response.items));\r\n            dispatch(setTotalUsersCount(response.totalCount));\r\n        });\r\n    };\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleFollowingInProgress(true, userId));\r\n        usersAPI.setFollow(userId).then((response) => {\r\n            if (response.resultCode === 0) {\r\n                dispatch(followSuccess(userId));\r\n            }\r\n            dispatch(toggleFollowingInProgress(false, userId));\r\n        });\r\n    };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleFollowingInProgress(true, userId));\r\n        usersAPI.setUnfollow(userId).then((response) => {\r\n            if (response.resultCode === 0) {\r\n                dispatch(unfollowSuccess(userId));\r\n            }\r\n            dispatch(toggleFollowingInProgress(false, userId));\r\n        });\r\n    };\r\n};\r\n\r\nexport default usersReducers;\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: { \"API-KEY\": \"5f8966e8-e55a-41d2-a189-5fbe008641b2\" },\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        });\r\n    },\r\n    setFollow(id) {\r\n        return instance.post(`follow/${id}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        });\r\n    },\r\n    setUnfollow(id) {\r\n        return instance.delete(`follow/${id}`)\r\n        .then((response) => {\r\n            return response.data;\r\n        });\r\n    },\r\n    getProfile(userId){\r\n        console.log(\"warn, use old method\");\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId){\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`, { status: status})\r\n    },\r\n};\r\n\r\nexport const authAPI = {\r\n    me(){\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false){\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Header_mod from './Header.module.css'\r\n\r\nconst Header = (props) => {\r\n    // console.log(props);\r\n    return (\r\n        <header className={Header_mod.header}>\r\n            <img src='https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/SVG_Logo.svg/2048px-SVG_Logo.svg.png' alt=\"logotip\" ></img>\r\n\r\n            <div className={Header_mod.loginBlock}>\r\n                {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>выйти</button></div>\r\n                : <NavLink to={'/login'} >LOGIN</NavLink>}\r\n                \r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../API/api\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: { userId, email, login, isAuth },\r\n});\r\n\r\nexport const getAuthUserData = () => (dispatch) => {\r\n    return authAPI.me().then((response) => {\r\n        if (response.data.resultCode === 0) {\r\n            let { id, login, email } = response.data.data;\r\n            dispatch(setUserData(id, email, login, true));\r\n        }\r\n    });\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => (dispatch) => {\r\n    authAPI.login(email, password, rememberMe).then((response) => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUserData());\r\n        } else {\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : \"какая-то ошибка\";\r\n            dispatch(stopSubmit(\"login\", { _error: message }));\r\n        }\r\n    });\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n    authAPI.logout().then((response) => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setUserData(null, null, null, false));\r\n        }\r\n    });\r\n};\r\n\r\nexport default authReducer;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../redux/auth_reducer\";\r\n\r\n\r\nclass HeaderConteiner extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />;\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderConteiner);\r\n","import React from 'react';\r\nimport Navbar_mod from './Navbar.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={Navbar_mod.nav}>\r\n      <div className={`${Navbar_mod.item} ${Navbar_mod.active}`}>\r\n        <NavLink to=\"/profile\" activeClassName={Navbar_mod.activeLink}>Profile</NavLink>\r\n      </div>\r\n      <div className={Navbar_mod.item}>\r\n        <NavLink to=\"/messages\" activeClassName={Navbar_mod.activeLink}>Messages</NavLink>\r\n      </div>\r\n      <div className={Navbar_mod.item}>\r\n        <NavLink to='/news' activeClassName={Navbar_mod.activeLink}>News</NavLink>\r\n      </div>\r\n      <div className={Navbar_mod.item}>\r\n        <NavLink to='/music' activeClassName={Navbar_mod.activeLink}>Music</NavLink>\r\n      </div>\r\n      <div className={Navbar_mod.item}>\r\n        <NavLink to='/frieds' activeClassName={Navbar_mod.activeLink}>Friends</NavLink>\r\n      </div>\r\n      <div className={Navbar_mod.item}>\r\n        <NavLink to='/users' activeClassName={Navbar_mod.activeLink}>users</NavLink>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { maxLengthCreator, required } from \"../../utils/validators\";\r\nimport { Input } from \"../common/Form/FormsControls\";\r\nimport { login } from \"../../redux/auth_reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport styles from \"../common/Form/FormsControls.module.css\"\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        console.log(formData);\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if(props.isAuth){\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst maxLength20 = maxLengthCreator(40)\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"логин\"} name={\"email\"} component={Input} validate={[required, maxLength20]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"пароль\"} name={\"password\"} component={Input} validate={[required, maxLength20]} type={\"password\"}/>\r\n            </div>\r\n            <div>\r\n                <Field type={\"checkbox\"} name={\"rememberMe\"} component={Input} validate={[required, maxLength20]}/> Запомнить меня\r\n            </div>\r\n            {props.error && <div className={styles.form_summary_error}>\r\n                {props.error}\r\n            </div>}\r\n            <div>\r\n                <button>Нажать</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: \"login\",\r\n})(LoginForm)\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n","import { getAuthUserData } from \"./auth_reducer\";\r\n\r\nconst SET_INITIALIZED = \"SET_INITIALIZED\";\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED: {\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess= () => ({type: SET_INITIALIZED,});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise])\r\n    .then(() => {\r\n        dispatch(initializedSuccess())\r\n    })\r\n    \r\n};\r\n\r\nexport default appReducer;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport HeaderConteiner from \"./components/Header/HeaderConteiner\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport { Route, withRouter } from \"react-router-dom\";\r\nimport Login from \"./components/Login/Login\";\r\nimport { connect } from \"react-redux\";\r\nimport { initializeApp } from \"./redux/app_reducer\";\r\nimport { compose } from \"redux\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\n\r\nconst ProfileConteiner = React.lazy(() => import(\"./components/Profile/ProfileConteiner\"));\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\r\nconst UsersContainer = React.lazy(() => import(\"./components/users/UsersConteiner.jsx\"));\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader />;\r\n        }\r\n        return (\r\n            <div>\r\n                <React.Suspense fallback={<Preloader />}>\r\n                    <div className=\"app-wrapper\">\r\n                        <HeaderConteiner />\r\n                        <Navbar />\r\n\r\n                        <div className=\"app-wrapper-content\">\r\n                            <Route path=\"/profile/:userId?\" render={() => <ProfileConteiner />} />\r\n\r\n                            <Route path=\"/messages\" render={() => <DialogsContainer />} />\r\n\r\n                            <Route path=\"/users\" render={() => <UsersContainer />} />\r\n\r\n                            <Route path=\"/login\" render={() => <Login />} />\r\n                        </div>\r\n                    </div>\r\n                </React.Suspense>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized,\r\n});\r\nexport default compose(withRouter, connect(mapStateToProps, { initializeApp }))(App);\r\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport dialogReducer from \"./dialog_reducer\";\r\nimport profileReducer from \"./profile_reducer\";\r\nimport usersReducers from \"./user_reducer\";\r\nimport authReducer from \"./auth_reducer\"\r\nimport { reducer as formReducer} from \"redux-form\"\r\nimport appReducer from \"./app_reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogReducer,\r\n    usersPage: usersReducers,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store\r\n\r\n\r\nexport default store;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport store from \"./redux/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <App />\r\n            </Provider>\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n);\r\n","export const required = value => {\r\n    if (value) return undefined\r\n\r\n    return \"Ошибка: пустое поле\"\r\n}\r\n\r\n\r\n\r\nexport const maxLengthCreator = (value) => (value1) => {\r\n    if (value1 && value1.length > value) return `макс длина ${value} символов`\r\n\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"FormsControls_form_control__2VQul\",\"error\":\"FormsControls_error__mjOMa\",\"form_summary_error\":\"FormsControls_form_summary_error__2lS6v\"};","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\";\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.form_control + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            \r\n                {hasError && <span>{meta.error}</span>}\r\n            \r\n        </div>\r\n    );\r\n}\r\nexport const Textarea = (props) => {\r\n    const { input, meta, ...restProps } = props;\r\n    return (\r\n        <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n    );\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, ...restProps } = props;\r\n    return (\r\n        <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n    );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/loading2.18b68e50.svg\";","import React from \"react\";\r\nimport preloader from \"../../../loading2.svg\"\r\n\r\nlet Preloader = () => {\r\n    return <><img src={preloader} alt=\"preloader\" /></>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__10x8_\",\"loginBlock\":\"Header_loginBlock__3IPet\"};","import { usersAPI, profileAPI } from \"../API/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_SET_STATUS\";\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: \"Привет, как ты?\", likeCount: 5 },\r\n        { id: 2, message: \"Это мой первый пост.\", likeCount: 23 },\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 6,\r\n                message: action.newPostText,\r\n                likeCount: 0,\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\n\r\nexport const getStatus = (userId) => (dispatch) => {\r\n    profileAPI.getStatus(userId)\r\n    .then((response) => {\r\n        dispatch(setStatus(response.data));\r\n    });\r\n};\r\nexport const updateStatus = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n    .then((response) => {\r\n        if(response.data.resultCode === 0){\r\n            dispatch(setStatus(status));\r\n        }\r\n        \r\n    });\r\n};\r\nexport const getUserProfile = (userId) => (dispatch) => {\r\n    usersAPI.getProfile(userId)\r\n    .then((response) => {\r\n        dispatch(setUserProfile(response.data));\r\n    });\r\n};\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}